(this["webpackJsonpfuture-test-chernov"]=this["webpackJsonpfuture-test-chernov"]||[]).push([[0],{122:function(e,t,a){e.exports=a(258)},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(47),o=a.n(l),s=(a(127),a(128),a(22)),i=(a(129),a(11)),m=a(71),u=a.n(m),d=a(110),f=a(119),E=a(12),p=a(111),N=a.n(p).a.create({baseURL:"https://www.filltext.com/"}),v=function(e){return N.get("?rows=".concat(e,"&id={number|1000}&firstName={firstName}&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&address={addressObject}&description={lorem|32}")).then((function(e){return e.data}))},b=function(e,t,a,n){"desc"===t?("idSort"===e?a.dataArray.sort((function(e,t){return e[n]-t[n]})):a.dataArray.sort((function(e,t){return e[n].localeCompare(t[n])})),a[e]="asc"):"asc"===t&&("idSort"===e?a.dataArray.sort((function(e,t){return e[n]-t[n]})).reverse():a.dataArray.sort((function(e,t){return e[n].localeCompare(t[n])})).reverse(),a[e]="desc")},_={dataArray:[],totalItems:0,currentPage:1,itemsOnPage:10,pagesInPortion:5,idSort:"desc",nameSort:"desc",lastNameSort:"desc",emailSort:"desc",phoneSort:"desc",searchParam:"",userDetailsId:null,loadingData:!1,error:null},O=function(e){return{type:"LOADING_DATA",payload:e}},h=function(e){return{type:"ERROR",payload:e}},S=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(O(!0)),t.prev=1,t.next=4,v(e);case 4:n=t.sent,a({type:"GET_DATA",payload:n}),a(O(!1)),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(1),a(O(!1)),console.log(t.t0.message),a(h("Something went wrong. Check console and network.")),setTimeout((function(){a(h(null))}),3e3);case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},g=(a(151),a(152),function(e){var t=e.onSortClick,a=Object(r.useState)(!1),n=Object(s.a)(a,2),l=n[0],o=n[1],i=l?"sortArrow toggle":"sortArrow";return c.a.createElement("div",{className:i,onClick:function(){o((function(e){return!e})),t()}})}),y=function(e){var t=e.id,a=e.email,n=e.firstName,r=e.lastName,l=e.phone,o=e.tableRowType,s=e.onSortClick,i=e.showUserDetails,m=o?"tableRow tableRow-".concat(o):"tableRow",u=function(e){s&&s(e)},d=function(e){return o&&s&&c.a.createElement(g,{onSortClick:function(){return u(e)}})};return c.a.createElement("div",{className:m,onClick:function(){i&&!s&&i(t)}},c.a.createElement("div",{className:"tableColumn tableColumn-id"},t,d("id")),c.a.createElement("div",{className:"tableColumn tableColumn-name"},n,d("firstName")),c.a.createElement("div",{className:"tableColumn tableColumn-name"},r,d("lastName")),c.a.createElement("div",{className:"tableColumn tableColumn-email"},a,d("email")),c.a.createElement("div",{className:"tableColumn tableColumn-phone"},l,d("phone")))},C=(a(153),function(e){for(var t=e.currentPage,a=e.itemsOnPage,n=e.onPageChange,l=e.pagesInPortion,o=e.totalItems,i=Math.ceil(o/a),m=Math.ceil(i/l),u=[],d=1;d<=i;d++)u.push(d);var f=Object(r.useState)(1),E=Object(s.a)(f,2),p=E[0],N=E[1],v=(p-1)*l+1,b=p*l,_=u.filter((function(e){return e>=v&&e<=b})).map((function(e){return c.a.createElement("button",{key:e,onClick:function(){return n(e)},className:e===t?"active pageBtn":"pageBtn"},e)})),O=u.map((function(e){return e===u.length?c.a.createElement("div",{key:e,className:"paginationBlock__pre-after"},c.a.createElement("div",{className:"paginationDots"},"..."),c.a.createElement("button",{onClick:function(){return function(e){n(e),N(m)}(e)},className:e===t?"active pageBtn":"pageBtn"},e)):null})),h=u.map((function(e){return 1===e?c.a.createElement("div",{key:e,className:"paginationBlock__pre-after"},c.a.createElement("button",{onClick:function(){return function(e){n(e),N(1)}(e)},className:e===t?"active pageBtn":"pageBtn"},e),c.a.createElement("div",{className:"paginationDots"},"...")):null}));return c.a.createElement("div",{className:"pagination"},c.a.createElement("div",{className:"paginationBlock"},p>1&&c.a.createElement("button",{onClick:function(){return N(p-1)}},"prev"),p>1&&h,_,p<m&&O,p<m&&c.a.createElement("button",{onClick:function(){return N(p+1)}},"next")))}),D=(a(154),a(276)),A=a(275),j=a(120),k=(a(155),n="input",function(e){var t=e.input,a=e.meta,r=Object(j.a)(e,["input","meta"]),l=a.touched&&a.error;return c.a.createElement(c.a.Fragment,null,c.a.createElement(n,Object.assign({},t,r)),l&&c.a.createElement("div",{className:"formFieldError"},a.error))}),x=function(e){var t=e.onSearch;return c.a.createElement("div",{className:"searchBlock"},c.a.createElement(R,{onSubmit:function(e){var a=e.text;t(a)}}))},R=Object(A.a)({form:"SearchForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit,className:"searchForm"},c.a.createElement("div",{className:"formGroup"},c.a.createElement(D.a,{component:k,type:"text",name:"text",placeholder:"search for..."})),c.a.createElement("div",{className:"formGroup"},c.a.createElement("button",null,"Search")))})),w=(a(253),function(e){if(!e)return"Field is required"}),I=function(e){var t=e.onClose,a=e.addUser;return c.a.createElement("div",{className:"addUserBlock"},c.a.createElement(B,{onSubmit:function(e){var n=e.email,r=e.firstName,c=e.lastName,l=e.phone;a({email:n,firstName:r,lastName:c,phone:l}),t()},onClose:t}))},B=Object(A.a)({form:"AddUserForm"})((function(e){var t=e.onClose,a=e.invalid;return c.a.createElement("form",{onSubmit:e.handleSubmit,className:"addUserForm"},c.a.createElement("div",{className:"formGroup"},c.a.createElement(D.a,{component:k,name:"firstName",placeholder:"First Name",type:"text",validate:[w]})),c.a.createElement("div",{className:"formGroup"},c.a.createElement(D.a,{component:k,name:"lastName",placeholder:"Last Name",type:"text",validate:[w]})),c.a.createElement("div",{className:"formGroup"},c.a.createElement(D.a,{component:k,name:"email",placeholder:"Email",type:"email",validate:[w]})),c.a.createElement("div",{className:"formGroup"},c.a.createElement(D.a,{component:k,name:"phone",placeholder:"Phone",type:"number",validate:[w]})),c.a.createElement("div",{className:"formGroup"},c.a.createElement("button",{disabled:a},"Add to the table")),c.a.createElement("div",{className:"close",onClick:function(){return t()}}))})),L=a(277),P=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.tableReducer})),a=t.dataArray,n=t.totalItems,l=t.currentPage,o=t.itemsOnPage,m=t.pagesInPortion,u=t.idSort,d=t.emailSort,f=t.lastNameSort,E=t.nameSort,p=t.phoneSort,N=t.searchParam,v={id:"ID",email:"Email",firstName:"First Name",lastName:"Last Name",phone:"Phone",tableRowType:"header",onSortClick:function(t){switch(t){case"id":return e({type:"SORT_BY_ID"});case"firstName":return e({type:"SORT_BY_NAME"});case"lastName":return e({type:"SORT_BY_LNAME"});case"email":return e({type:"SORT_BY_EMAIL"});case"phone":return e({type:"SORT_BY_PHONE"})}}},b=function(t){return e(function(e){return{type:"USER_DETAILS",id:e}}(t))},_=function(e,t){return e?t.filter((function(t){if(t.firstName.toLowerCase().indexOf(e.toLocaleLowerCase())>-1||t.lastName.toLowerCase().indexOf(e.toLocaleLowerCase())>-1||t.email.toLowerCase().indexOf(e.toLocaleLowerCase())>-1||t.phone.toLowerCase().indexOf(e.toLocaleLowerCase())>-1)return t})):t}(N,a).map((function(e){return c.a.createElement(y,Object.assign({key:Object(L.a)()},e,{showUserDetails:b}))})),O=Object(r.useState)(),h=Object(s.a)(O,2),g=h[0],D=h[1],A=Object(r.useState)(!0),j=Object(s.a)(A,2),k=j[0],R=j[1],w=Object(r.useState)(!1),B=Object(s.a)(w,2),P=B[0],T=B[1],G=function(t){e(S(t))};return Object(r.useEffect)((function(){k&&(e(S(100)),R(!1)),D(function(e,t,a){var n=e*t,r=(e-1)*t+1;return a.filter((function(e,t){if(t+1>=r&&t+1<=n)return e}))}(l,o,_))}),[e,n,u,d,f,E,p,l,N,a]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"tableInterface"},c.a.createElement(x,{onSearch:function(t){return e(function(e){return{type:"SEARCH",text:e}}(t))}}),c.a.createElement("div",{className:"tableInterface__btnsContainer"},c.a.createElement("button",{onClick:function(){return T(!0)}},"Add user"))),c.a.createElement("div",{className:"dataTable"},c.a.createElement(y,v),g),c.a.createElement("div",{className:"tableInterface"},c.a.createElement(C,{totalItems:n,pagesInPortion:m,itemsOnPage:o,currentPage:l,onPageChange:function(t){return e(function(e){return{type:"CHANGE_PAGE",page:e}}(t))}}),c.a.createElement("div",{className:"tableInterface__btnsContainer"},c.a.createElement("button",{onClick:function(){return G(32)}},"Load 32 users"),c.a.createElement("button",{onClick:function(){return G(1e3)}},"Load 1000 users"))),P&&c.a.createElement(I,{onClose:function(){return T(!1)},addUser:function(t){return e(function(e){return{type:"ADD_USER",payload:e}}(t))}}))},T=(a(254),function(){var e=Object(i.d)((function(e){return e.tableReducer})),t=e.userDetailsId,a=e.dataArray.filter((function(e){return e.id===t})).map((function(e){return c.a.createElement("div",{className:"userDetails",key:e.id},c.a.createElement("div",{className:"userDetails__line"},c.a.createElement("div",{className:"userDetails__title"},"\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"),c.a.createElement("div",{className:"userDetails__text"},e.firstName," ",e.lastName)),c.a.createElement("div",{className:"userDetails__line"},c.a.createElement("div",{className:"userDetails__title"},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:")),c.a.createElement("div",{className:"userDetails__line"},c.a.createElement("div",{className:"userDetails__text"},e.description)),c.a.createElement("div",{className:"userDetails__line"},c.a.createElement("div",{className:"userDetails__title"},"\u0410\u0434\u0440\u0435\u0441 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: "),c.a.createElement("div",{className:"userDetails__text"},e.address.streetAddress)),c.a.createElement("div",{className:"userDetails__line"},c.a.createElement("div",{className:"userDetails__title"},"\u0413\u043e\u0440\u043e\u0434:"),c.a.createElement("div",{className:"userDetails__text"},e.address.city)),c.a.createElement("div",{className:"userDetails__line"},c.a.createElement("div",{className:"userDetails__title"},"\u041f\u0440\u043e\u0432\u0438\u043d\u0446\u0438\u044f:"),c.a.createElement("div",{className:"userDetails__text"},e.address.state)),c.a.createElement("div",{className:"userDetails__line"},c.a.createElement("div",{className:"userDetails__title"},"\u0418\u043d\u0434\u0435\u043a\u0441"),c.a.createElement("div",{className:"userDetails__text"},e.address.zip)))}));return c.a.createElement(c.a.Fragment,null,t&&a)}),G=(a(255),a(117)),U=a(273),F=a(274),Y=function(){var e=Object(G.a)({palette:{secondary:{main:"#fa9716"}}});return c.a.createElement("div",{className:"loadingBar"},c.a.createElement(U.a,{theme:e},c.a.createElement(F.a,{color:"secondary"})))},M=(a(256),function(){var e=Object(i.d)((function(e){return e.tableReducer})).error;return c.a.createElement("div",{className:"errorMessage"},e)}),H=function(){var e=Object(i.d)((function(e){return e.tableReducer})),t=e.loadingData,a=e.error;return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"tableBlock"},c.a.createElement(P,null)),c.a.createElement("div",{className:"userBlock"},c.a.createElement(T,null))),t&&c.a.createElement(Y,null),a&&c.a.createElement(M,null))},z=a(118),J=a(6),q=a(116),K=a(278),Q=Object(J.c)({form:K.a,tableReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DATA":return Object(E.a)({},e,{dataArray:t.payload,totalItems:t.payload.length,currentPage:1});case"CHANGE_PAGE":return Object(E.a)({},e,{currentPage:t.page});case"SEARCH":return Object(E.a)({},e,{searchParam:t.text});case"SORT_BY_ID":var a=Object(E.a)({},e);return b("idSort",a.idSort,a,"id"),a;case"SORT_BY_NAME":var n=Object(E.a)({},e);return b("nameSort",n.nameSort,n,"firstName"),n;case"SORT_BY_LNAME":var r=Object(E.a)({},e);return b("lastNameSort",r.lastNameSort,r,"lastName"),r;case"SORT_BY_EMAIL":var c=Object(E.a)({},e);return b("emailSort",c.emailSort,c,"email"),c;case"SORT_BY_PHONE":var l=Object(E.a)({},e);return b("phoneSort",l.phoneSort,l,"phone"),l;case"USER_DETAILS":return Object(E.a)({},e,{userDetailsId:t.id});case"ADD_USER":var o=Number.parseInt((new Date).getTime().toString().slice(5)),s=Object(E.a)({},t.payload,{id:o,address:{streetAddress:"no data",city:"no data",state:"no data",zip:0},description:"no data"});return Object(E.a)({},e,{dataArray:[s].concat(Object(f.a)(e.dataArray)),totalItems:e.totalItems+1});case"LOADING_DATA":return Object(E.a)({},e,{loadingData:t.payload});case"ERROR":return Object(E.a)({},e,{error:t.payload});default:return e}}}),V=Object(J.d)(Q,Object(J.a)(q.a));o.a.render(c.a.createElement(z.a,null,c.a.createElement(i.a,{store:V},c.a.createElement(H,null))),document.getElementById("root"))}},[[122,1,2]]]);
//# sourceMappingURL=main.2f2cd4ba.chunk.js.map